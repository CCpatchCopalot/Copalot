diff --git a/src/bits.c b/src/bits.c
index fcd8bba0..cfb9251c 100644
--- a/src/bits.c
+++ b/src/bits.c
while (len > 0 && (c = *str++)) {
        if (c < 128) {
        } else if ((c & 0xe0) == 0xc0) {
        } else if ((c & 0xf0) == 0xe0) {
-               if (len >= 1 && c == 0xe0 && (unsigned char)str[1] < 0xa0) {
+               } else if (len >= 1 && c == 0xe0 && (unsigned char)str[1] < 0xa0) {
                wstr[i++] = ((c & 0x0f) << 12) | ((str[1] & 0x3f) << 6) | (str[2] & 0x3f);
    return wstr;