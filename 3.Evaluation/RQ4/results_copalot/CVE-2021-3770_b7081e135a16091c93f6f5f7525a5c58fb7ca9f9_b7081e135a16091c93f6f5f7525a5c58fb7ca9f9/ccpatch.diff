diff --git a/src/indent.c b/src/indent.c
--- a/src/indent.c
+++ b/src/indent.c
@@ -68,7 +75,14 @@
     t = 1;
     for (cp = var; *cp != NUL;)
     {
-	(*array)[t++] = atoi((char *)cp);
+	int n = atoi((char *)cp);
+
+	if (n < 0 || n > 9999)
+	{
+	    semsg(_(e_invarg2), cp);
+	    return FAIL;
+	}
+	(*array)[t++] = n;
 	while (*cp  != NUL && *cp != ',')
 	    ++cp;
 	if (*cp != NUL)