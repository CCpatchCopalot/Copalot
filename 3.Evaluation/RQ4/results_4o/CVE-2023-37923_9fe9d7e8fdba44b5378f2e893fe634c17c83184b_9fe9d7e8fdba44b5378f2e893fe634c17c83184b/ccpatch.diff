diff --git a/gtkwave3-gtk3/src/helpers/vcd2lxt.c b/gtkwave3-gtk3/src/helpers/vcd2lxt.c
index db0efed..319d82c 100644
--- a/gtkwave3-gtk3/src/helpers/vcd2lxt.c
+++ b/gtkwave3-gtk3/src/helpers/vcd2lxt.c
@@ -1079,7 +1079,7 @@ for(;;)
 		case T_SCOPE:
 			T_GET;
 			T_GET;
-			if(tok==T_STRING)
+			if (tok!= T_END && tok != T_EOF)
 				{
 				struct slist *s;
 				s=(struct slist *)calloc_2(1,sizeof(struct slist));
diff --git a/gtkwave3-gtk3/src/helpers/vcd2lxt2.c b/gtkwave3-gtk3/src/helpers/vcd2lxt2.c
index dcfacf3..1e8bd29 100644
--- a/gtkwave3-gtk3/src/helpers/vcd2lxt2.c
+++ b/gtkwave3-gtk3/src/helpers/vcd2lxt2.c
@@ -1081,7 +1081,7 @@ for(;;)
 		case T_SCOPE:
 			T_GET;
 			T_GET;
-			if(tok==T_STRING)
+			if (tok!= T_END && tok != T_EOF)
 				{
 				struct slist *s;
 				s=(struct slist *)calloc_2(1,sizeof(struct slist));
diff --git a/gtkwave3-gtk3/src/helpers/vcd2vzt.c b/gtkwave3-gtk3/src/helpers/vcd2vzt.c
index b360f56..d49ac5c 100644
--- a/gtkwave3-gtk3/src/helpers/vcd2vzt.c
+++ b/gtkwave3-gtk3/src/helpers/vcd2vzt.c
@@ -1091,7 +1091,7 @@ for(;;)
 		case T_SCOPE:
 			T_GET;
 			T_GET;
-			if(tok==T_STRING)
+			if (tok!= T_END && tok != T_EOF)
 				{
 				struct slist *s;
 				s=(struct slist *)calloc_2(1,sizeof(struct slist));
diff --git a/gtkwave3-gtk3/src/vcd.c b/gtkwave3-gtk3/src/vcd.c
index c836955..eae6c82 100644
--- a/gtkwave3-gtk3/src/vcd.c
+++ b/gtkwave3-gtk3/src/vcd.c
@@ -1183,7 +1183,7 @@ for(;;)
                                 }
 
 			T_GET;
-			if(tok==T_STRING)
+			if (tok!= T_END && tok != T_EOF)
 				{
 				struct slist *s;
 				s=(struct slist *)calloc_2(1,sizeof(struct slist));
diff --git a/gtkwave3-gtk3/src/vcd_partial.c b/gtkwave3-gtk3/src/vcd_partial.c
index 9c5990b..6f3ffe8 100644
--- a/gtkwave3-gtk3/src/vcd_partial.c
+++ b/gtkwave3-gtk3/src/vcd_partial.c
@@ -1132,7 +1132,7 @@ for(;;)
                                         }
                                 }
 			T_GET;
-			if(tok==T_STRING)
+			if (tok!= T_END && tok != T_EOF)
 				{
 				struct slist *s;
 				s=(struct slist *)calloc_2(1,sizeof(struct slist));
diff --git a/gtkwave3-gtk3/src/vcd_recoder.c b/gtkwave3-gtk3/src/vcd_recoder.c
index 3d0e7da..3915988 100644
--- a/gtkwave3-gtk3/src/vcd_recoder.c
+++ b/gtkwave3-gtk3/src/vcd_recoder.c
@@ -1525,7 +1525,7 @@ for(;;)
 					}
 				}
 			T_GET;
-			if(tok==T_STRING)
+			if (tok != T_END && tok != T_EOF)
 				{
 				struct slist *s;
 				s=(struct slist *)calloc_2(1,sizeof(struct slist));