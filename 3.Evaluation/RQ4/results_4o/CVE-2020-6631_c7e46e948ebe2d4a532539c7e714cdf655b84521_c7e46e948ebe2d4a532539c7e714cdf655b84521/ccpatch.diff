diff --git a/src/media_tools/m2ts_mux.c b/src/media_tools/m2ts_mux.c
index 3b7472769..6894831d2 100644
--- a/src/media_tools/m2ts_mux.c
+++ b/src/media_tools/m2ts_mux.c
@@ -712,6 +712,8 @@ u32 gf_m2ts_stream_process_pmt(GF_M2TS_Mux *muxer, GF_M2TS_Mux_Stream *stream)
 		u32 info_length = 0, es_info_length = 0;
 		GF_BitStream *bs;
 
+		if (!stream->program->pcr)
+			abort();
 
 		bs = gf_bs_new(NULL,0,GF_BITSTREAM_WRITE);
 		gf_bs_write_int(bs,	0x7, 3); // reserved