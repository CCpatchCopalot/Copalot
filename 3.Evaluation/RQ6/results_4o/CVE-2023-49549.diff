diff --git a/mjs.c b/mjs.c
index db89985..49c3d92 100644
--- a/mjs.c
+++ b/mjs.c
@@ -8552,7 +8552,9 @@ MJS_PRIVATE mjs_err_t mjs_execute(struct mjs *mjs, size_t off, mjs_val_t *res) {
 #endif
 
     code = (const uint8_t *) bp.data.p;
+#if MJS_ENABLE_DEBUG
     mjs_disasm_single(code, i);
+#endif
     prev_opcode = opcode;
     opcode = code[i];
     switch (opcode) {