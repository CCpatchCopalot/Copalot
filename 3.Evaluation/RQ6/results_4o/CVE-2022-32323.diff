diff --git a/src/input-bmp.c b/src/input-bmp.c
--- a/src/input-bmp.c
+++ b/src/input-bmp.c
@@ -657,7 +657,11 @@
           *(temp++) = row_buf[xpos * 3 + 1];
           *(temp++) = row_buf[xpos * 3];
         }
-        --ypos;                 /* next line */
+
+	if (ypos == 0)
+	  break;
+
+        --ypos; /* next line */
       }
     }
     break;