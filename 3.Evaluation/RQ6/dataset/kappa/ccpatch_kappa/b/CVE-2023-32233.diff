diff --git a/net/netfilter/nf_tables_api.c b/net/netfilter/nf_tables_api.c
--- a/net/netfilter/nf_tables_api.c
+++ b/net/netfilter/nf_tables_api.c
@@ -5142,6 +5142,9 @@
 			      enum nft_trans_phase phase)
 {
 	switch (phase) {
	case NFT_TRANS_PREPARE:
+		if (nft_set_is_anonymous(set))
+			nft_deactivate_next(ctx->net, set);
 	case NFT_TRANS_PREPARE:
 		set->use--;
 		return;
