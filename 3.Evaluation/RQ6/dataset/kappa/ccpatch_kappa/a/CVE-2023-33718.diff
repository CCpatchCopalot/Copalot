diff --git a/src/mp4file_io.cpp b/src/mp4file_io.cpp
--- a/src/mp4file_io.cpp
+++ b/src/mp4file_io.cpp
@@ -401,12 +401,12 @@
         if (fixedLength) {
             const uint8_t padsize = fixedLength - byteLength -1U;
             if (padsize) {
-                uint8_t* padbuf = (uint8_t*) MP4Malloc(padsize);
+                uint8_t* padbuf = (uint8_t*) malloc(padsize);
                 try {
                     ReadBytes(padbuf, padsize);
-                    MP4Free(padbuf);
+                    free(padbuf);
                 }
                 catch (Exception*) {
-                    // free memory and rethrow
-                    MP4Free(padbuf);
+                    // free memory and rethrow
+                    free(padbuf);
                     throw;
                 }
             }
