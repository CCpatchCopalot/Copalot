diff --git a/src/Rtmp/RtmpProtocol.cpp b/src/Rtmp/RtmpProtocol.cpp
--- a/src/Rtmp/RtmpProtocol.cpp
+++ b/src/Rtmp/RtmpProtocol.cpp
@@ -751,7 +751,8 @@
         }
 
         case MSG_WIN_SIZE: {
-            _windows_size = load_be32(&chunk_data.buffer[0]);
+            //如果窗口太小，会导致发送sendAcknowledgement时无限递归：https://github.com/ZLMediaKit/ZLMediaKit/issues/1839
+            _windows_size = std::max(load_be32(&chunk_data.buffer[0]), 32 * 1024U);
             TraceL << "MSG_WIN_SIZE:" << _windows_size;
             break;
         }