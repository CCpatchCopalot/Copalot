diff --git a/fs/io_uring.c b/fs/io_uring.c
--- a/fs/io_uring.c
+++ b/fs/io_uring.c
@@ -1696,12 +1696,12 @@
 
 static void __io_free_req(struct io_kiocb *req)
 {
-	struct io_uring_task *tctx = req->task->io_uring;
-	struct io_ring_ctx *ctx = req->ctx;
+	struct io_uring_task *tctx;
+	struct io_ring_ctx *ctx;
 
 	io_dismantle_req(req);
-
+	tctx = req->task->io_uring;
+	ctx = req->ctx;
 
 	atomic_long_inc(&tctx->req_complete);
 	if (tctx->in_idle)
 		wake_up(&tctx->wait);