diff --git a/cmd/iohelpers.cpp b/cmd/iohelpers.cpp
index b4212c4..0e9f0cc 100644
--- a/cmd/iohelpers.cpp
+++ b/cmd/iohelpers.cpp
@@ -214 +214 @@ FILE *OpenPNMFile(const char *file,int &width,int &height,int &depth,int &precis
-        if (parms == 3) {
+        if (width > 0 && height > 0 && parms == 3) {
