diff --git a/src/getchar.c b/src/getchar.c
index c0dfc2b0b..49eb3d7df 100644
--- a/src/getchar.c
+++ b/src/getchar.c
@@ -252,8 +252,10 @@ add_buff(
     static void
 delete_buff_tail(buffheader_T *buf, int slen)
 {
 
+    if (buf->bh_curr == NULL || buf->bh_curr->b_str == NULL)
+	    return;  // nothing to delete
    int len = (int)STRLEN(buf->bh_curr->b_str);
     if (len >= slen)
     {
 	buf->bh_curr->b_str[len - slen] = NUL;