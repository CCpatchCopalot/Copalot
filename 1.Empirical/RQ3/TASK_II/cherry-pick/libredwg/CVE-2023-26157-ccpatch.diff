diff --git a/src/decode_r2007.c b/src/decode_r2007.c
index 03691b88..d1bb8b3b 100644
--- a/src/decode_r2007.c
+++ b/src/decode_r2007.c
@@ -1033,12 +1033,11 @@ read_sections_map (Bit_Chain *dat, int64_t size_comp, int64_t size_uncomp,
 #endif
       section->type = dwg_section_wtype (section->name);
 
-      if (section->num_pages <= 0)
-        continue;
-      if (section->num_pages > 0xf0000)
+      if (section->num_pages <= 0 || section->num_pages > 0xf0000)
         {
           LOG_ERROR ("Invalid num_pages %zu, skip",
                      (size_t)section->num_pages);
+          section->num_pages = 0;
           continue;
         }
 
